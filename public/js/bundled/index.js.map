{"mappings":"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","sources":["public/js/alerts.js","public/js/login.js","public/js/mapbox.js","public/js/updateSettings.js","public/js/stripe.js","public/js/signup.js","public/js/password.js","public/js/rating.js","public/js/index.js"],"sourcesContent":["/* eslint-disable */\r\n\r\nexport const hideAlert = () => {\r\n  const el = document.querySelector('.alert');\r\n  if (el) el.parentElement.removeChild(el);\r\n};\r\n\r\n// type is 'success' or 'error'\r\nexport const showAlert = (type, message) => {\r\n  hideAlert();\r\n  const markup = `<div class=\"alert alert--${type}\">${message}</div>`;\r\n  document.querySelector('body').insertAdjacentHTML('afterbegin', markup);\r\n  setTimeout(hideAlert, 5000);\r\n};\r\n","/* eslint-disable */\r\n\r\nimport axios from 'axios';\r\nimport { showAlert } from './alerts.js';\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/login',\r\n      data: {\r\n        email,\r\n        password,\r\n      },\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Logged in successfully');\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n\r\nexport const logout = async () => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'GET',\r\n      url: '/api/v1/users/logout',\r\n    });\r\n    if (res.data.status === 'success') {\r\n      location.assign('/');\r\n      // location.reload(true);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', 'Error logging out! Try again.');\r\n  }\r\n};\r\n","/* eslint-disable */\r\n\r\nexport const displayMap = (locations) => {\r\n  const map = L.map('map').setView([31.111745, -118.113491], 5);\r\n  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    maxZoom: 19,\r\n    attribution:\r\n      '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\r\n  }).addTo(map);\r\n\r\n  const markerArray = [];\r\n  locations.forEach((loc) => {\r\n    const reversedArr = [...loc.coordinates].reverse();\r\n\r\n    const myIcon = L.icon({\r\n      iconUrl: './../img/pin.png',\r\n      iconSize: [30, 35],\r\n      iconAnchor: [15, 35],\r\n    });\r\n\r\n    L.marker(reversedArr, { icon: myIcon }).addTo(map);\r\n    markerArray.push(reversedArr);\r\n  });\r\n  const bounds = L.latLngBounds(markerArray);\r\n  map.fitBounds(bounds);\r\n};\r\n","/* eslint-disable */\r\n\r\n// updateData\r\nimport axios from 'axios';\r\nimport { showAlert } from './alerts.js';\r\n\r\n// type is either 'password' or 'data'\r\nexport const updateSettings = async (data, type) => {\r\n  try {\r\n    const res = await axios({\r\n      method: 'PATCH',\r\n      url: `/api/v1/users/${type === 'data' ? 'updateMe' : 'updateMyPassword'}`,\r\n      data,\r\n    });\r\n    if (res.data.status === 'success') {\r\n      showAlert(\r\n        'success',\r\n        `${type[0].toUpperCase() + type.slice(1)} updated successfully`\r\n      );\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n","/* eslint-disable */\r\nimport axios from 'axios';\r\nimport { showAlert } from './alerts.js';\r\n\r\nconst stripe = Stripe(\r\n  'pk_test_51MnlgALoWQNLaTPB0KjvezW9oCw5sf9rzjh7IsMttSiRy5FMx8NdKTVmYZiK5CI49bzej60vRgqt4ZBRx8ns2O9100Tu94fkdI'\r\n);\r\n\r\nexport const bookTour = async (tourId) => {\r\n  try {\r\n    // 1) Get checkout session from API\r\n    const session = await axios(`/api/v1/bookings/checkout-session/${tourId}`);\r\n    // 2) Create checkout form + charge credit card\r\n    await stripe.redirectToCheckout({\r\n      sessionId: session.data.session.id,\r\n    });\r\n  } catch (err) {\r\n    showAlert('error', err);\r\n  }\r\n};\r\n","/* eslint-disable */\r\n\r\nimport axios from 'axios';\r\nimport { showAlert } from './alerts.js';\r\n\r\nexport const signup = async (name, email, password, passwordConfirm) => {\r\n  try {\r\n    const signupBtn = document.getElementById('signup-btn');\r\n    signupBtn.textContent = 'Processing...';\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/signup',\r\n      data: {\r\n        name,\r\n        email,\r\n        password,\r\n        passwordConfirm,\r\n      },\r\n    });\r\n\r\n    signupBtn.textContent = 'Signup';\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Created account successfully');\r\n      window.setTimeout(() => {\r\n        location.assign('/');\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n","/* eslint-disable */\r\n\r\nimport axios from 'axios';\r\n// import { TokenExpiredError } from 'jsonwebtoken';\r\nimport { showAlert } from './alerts.js';\r\n\r\nexport const forgotPassword = async (email) => {\r\n  try {\r\n    const forgotBtn = document.getElementById('forgot-btn');\r\n    forgotBtn.textContent = 'Processing...';\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: '/api/v1/users/forgotPassword',\r\n      data: {\r\n        email,\r\n      },\r\n    });\r\n    forgotBtn.textContent = 'Send';\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Email succesfully sent!');\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\nexport const resetPassword = async (password, passwordConfirm) => {\r\n  try {\r\n    const resetBtn = document.getElementById('reset-btn');\r\n    resetBtn.textContent = 'Processing...';\r\n    const token = window.location.pathname.split('/').pop();\r\n    const res = await axios({\r\n      method: 'PATCH',\r\n      url: `/api/v1/users/resetPassword/${token}`,\r\n      data: {\r\n        password,\r\n        passwordConfirm,\r\n      },\r\n    });\r\n    resetBtn.textContent = 'Reset';\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Password changed!');\r\n      window.setTimeout(() => {\r\n        location.assign('/login');\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    // console.log(TokenExpiredError);\r\n    // showAlert('error', err);\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n","/* eslint-disable */\r\nimport axios from 'axios';\r\nimport { showAlert } from './alerts.js';\r\n\r\nexport const sendReview = async (review, rating, tourId) => {\r\n  try {\r\n    // const reviewBtn = document.getElementById('signup-btn');\r\n    // reviewBtn.textContent = 'Processing...';\r\n    const res = await axios({\r\n      method: 'POST',\r\n      url: `/api/v1/tours/${tourId}/reviews`,\r\n      data: {\r\n        review,\r\n        rating,\r\n      },\r\n    });\r\n\r\n    // reviewBtn.textContent = 'Send';\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'Review created!');\r\n      window.setTimeout(() => {\r\n        location.reload();\r\n      }, 1500);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n\r\nexport const disableActiveStar = () => {\r\n  for (let i = 1; i <= 5; i++) {\r\n    const star = document\r\n      .getElementById(`star-${i}`)\r\n      .closest('.star-container')\r\n      .querySelector('.reviews__star-svg');\r\n    star.classList.remove('reviews__star--active');\r\n    star.classList.add('reviews__star--inactive');\r\n  }\r\n};\r\n\r\nexport const setActiveStar = (rat) => {\r\n  for (let i = 1; i <= rat; i++) {\r\n    const star = document\r\n      .getElementById(`star-${i}`)\r\n      .closest('.star-container')\r\n      .querySelector('.reviews__star-svg');\r\n    star.classList.add('reviews__star--active');\r\n    star.classList.remove('reviews__star--inactive');\r\n  }\r\n};\r\n","/* eslint-disable */\r\n\r\nimport 'regenerator-runtime/runtime';\r\nimport { login, logout } from './login.js';\r\nimport { displayMap } from './mapbox.js';\r\nimport { updateSettings } from './updateSettings.js';\r\nimport { bookTour } from './stripe.js';\r\nimport { signup } from './signup.js';\r\nimport { forgotPassword, resetPassword } from './password.js';\r\nimport { disableActiveStar, setActiveStar, sendReview } from './rating.js';\r\n\r\n// DOM ELEMENTS\r\nconst mapBox = document.getElementById('map');\r\nconst loginForm = document.querySelector('.form--login');\r\nconst signupForm = document.querySelector('.form--signup');\r\nconst forgotForm = document.querySelector('.form--forgot');\r\nconst resetForm = document.querySelector('.form--reset');\r\nconst reviewForm = document.querySelector('.form--review');\r\nconst userDataForm = document.querySelector('.form-user-data');\r\nconst userPasswordForm = document.querySelector('.form-user-password');\r\nconst logoutBtn = document.querySelector('.nav__el--logout');\r\nconst bookBtn = document.getElementById('book-tour');\r\n\r\n// DELEGATION\r\nif (mapBox) {\r\n  const locations = JSON.parse(mapBox.dataset.locations);\r\n  displayMap(locations);\r\n}\r\n\r\nif (loginForm) {\r\n  loginForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const email = document.getElementById('login-email').value;\r\n    const password = document.getElementById('login-password').value;\r\n\r\n    login(email, password);\r\n  });\r\n}\r\nif (signupForm) {\r\n  signupForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const name = document.getElementById('signup-name').value;\r\n    const email = document.getElementById('signup-email').value;\r\n    const password = document.getElementById('signup-password').value;\r\n    const passwordConfirm = document.getElementById('signup-password').value;\r\n\r\n    signup(name, email, password, passwordConfirm);\r\n  });\r\n}\r\nif (forgotForm) {\r\n  forgotForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const email = document.getElementById('forgot-email').value;\r\n\r\n    forgotPassword(email);\r\n  });\r\n}\r\nif (resetForm) {\r\n  resetForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const password = document.getElementById('reset-password').value;\r\n    const passwordConfirm = document.getElementById(\r\n      'reset-password-confirm'\r\n    ).value;\r\n\r\n    resetPassword(password, passwordConfirm);\r\n  });\r\n}\r\nif (reviewForm) {\r\n  reviewForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const review = document.getElementById('review-text').value;\r\n    const rating = +document\r\n      .querySelector('input[name=\"star\"]:checked')\r\n      .id.split('-')[1];\r\n    const { tourId } = e.target.dataset;\r\n\r\n    sendReview(review, rating, tourId);\r\n  });\r\n  document\r\n    .querySelector('.reviews__star-rating')\r\n    .addEventListener('click', (e) => {\r\n      if (!e.target.id) return;\r\n      const rating = e.target.id.split('-')[1];\r\n      disableActiveStar();\r\n      setActiveStar(rating);\r\n    });\r\n}\r\n\r\nif (logoutBtn) {\r\n  logoutBtn.addEventListener('click', logout);\r\n}\r\n\r\nif (userDataForm) {\r\n  userDataForm.addEventListener('submit', async (e) => {\r\n    e.preventDefault();\r\n\r\n    document.querySelector('.btn--save-settings').textContent = 'Updating';\r\n    const form = new FormData();\r\n    form.append('name', document.getElementById('name').value);\r\n    form.append('email', document.getElementById('email').value);\r\n    form.append('photo', document.getElementById('photo').files[0]);\r\n\r\n    await updateSettings(form, 'data');\r\n\r\n    document.querySelector('.btn--save-settings').textContent = 'Save settings';\r\n\r\n    location.reload();\r\n  });\r\n}\r\nif (userPasswordForm) {\r\n  userPasswordForm.addEventListener('submit', async (e) => {\r\n    e.preventDefault();\r\n    document.querySelector('.btn--save-password').textContent = ' Updating';\r\n\r\n    const passwordCurrent = document.getElementById('password-current').value;\r\n    const password = document.getElementById('password').value;\r\n    const passwordConfirm = document.getElementById('password-confirm').value;\r\n\r\n    await updateSettings(\r\n      { passwordCurrent, password, passwordConfirm },\r\n      'password'\r\n    );\r\n\r\n    document.querySelector('.btn--save-password').textContent =\r\n      ' Save Password';\r\n    document.getElementById('password-current').value = '';\r\n    document.getElementById('password').value = '';\r\n    document.getElementById('password-confirm').value = '';\r\n  });\r\n}\r\n\r\nif (bookBtn) {\r\n  bookBtn.addEventListener('click', (e) => {\r\n    e.target.textContent = 'Processing...';\r\n    const { tourId } = e.target.dataset;\r\n    bookTour(tourId);\r\n  });\r\n}\r\n"],"names":["$7dc87b7f457e655a$export$516836c6a9dfc573","el","document","querySelector","parentElement","removeChild","$7dc87b7f457e655a$export$de026b00723010c1","type","message","markup","insertAdjacentHTML","setTimeout","$bf5b431e6a69fea8$export$596d806903d1f59e","async","email","password","$parcel$interopDefault","$cnf0l$axios","method","url","data","status","window","location","assign","err","response","$3c4e158d14605c12$export$4c5dd147b21b9176","locations","map","L","setView","tileLayer","maxZoom","attribution","addTo","markerArray","forEach","loc","reversedArr","coordinates","reverse","myIcon","icon","iconUrl","iconSize","iconAnchor","marker","push","bounds","latLngBounds","fitBounds","$955535ce7513e32c$export$f558026a994b6051","toUpperCase","slice","$9fd71c92b6f885af$var$stripe","Stripe","$9fd71c92b6f885af$export$8d5bdbf26681c0c2","tourId","session","redirectToCheckout","sessionId","id","$dbd1452def9256d5$export$7200a869094fec36","name","passwordConfirm","signupBtn","getElementById","textContent","res","$f22b202dc89003b7$export$66791fb2cfeec3e","forgotBtn","$f22b202dc89003b7$export$dc726c8e334dd814","resetBtn","token","pathname","split","pop","$f1e53a5b05f18438$export$5deb8329751a6406","review","rating","reload","$f1e53a5b05f18438$export$9b06e84dff164452","i","star","closest","classList","remove","add","$f1e53a5b05f18438$export$fa56998bd49e5a65","rat","$407eccdc61ba7a94$var$mapBox","$407eccdc61ba7a94$var$loginForm","$407eccdc61ba7a94$var$signupForm","$407eccdc61ba7a94$var$forgotForm","$407eccdc61ba7a94$var$resetForm","$407eccdc61ba7a94$var$reviewForm","$407eccdc61ba7a94$var$userDataForm","$407eccdc61ba7a94$var$userPasswordForm","$407eccdc61ba7a94$var$logoutBtn","$407eccdc61ba7a94$var$bookBtn","JSON","parse","dataset","addEventListener","e","preventDefault","value","target","form","FormData","append","files","passwordCurrent"],"version":3,"file":"index.js.map","sourceRoot":"../../../"}